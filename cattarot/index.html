<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <title>Quizzment - Cat Tarot</title>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3187370930413699"
    crossorigin="anonymous"></script>
  <meta name="description"
    content="This is a website full of fun tests such as the MBTI test, personality test, love test, and facial recognition test.">
  <meta name="keywords"
    content="Tests, psychological tests, profile tests, personality tests, MBTI, various tests, boredom-killing tests, love tests, romance tests, radio love test, The Glory quiz, The Glory Season 2 test, old-school person test, newspaper personality test, weakness test, strength test, fortune test, Quizzment, test it, Christmas test, MBTI test, MBTI, MBTI test, color MBTI, radio love test, radio test, rolling paper test, rolling paper MBTI.">
  <meta property="og:type" content="website">
  <meta property="og:title" content="Quizzment">
  <meta property="og:description"
    content="This is a website full of fun tests such as the MBTI test, personality test, and facial recognition test.">
  <meta property="og:image" content="https://quizzment.com/cattarot/tarotcat.webp">
  <meta property="og:url" content="https://quizzment.com/cattarot/index.html">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="google-site-verification" content="DMg8QOrWVNM-tnh8rDjHIwFj0Ie_BsIiJkNmT_iHJrk" />
  <link rel="stylesheet" href="/style.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Do+Hyeon&display=swap" rel="stylesheet">
  <link rel="icon" type="image/png" href="/favicon.png">
</head>

<body>
  <header class="page-header wrapper">
    <h1 class="site-title">
      <a href="https://quizzment.com/index.html"><img class="logo" src="https://quizzment.com/img_logo.png"
          alt="Quizzment"></a>
    </h1>

    <div id="menu-container"></div>
    <script>
      fetch('https://quizzment.com/menu.html')
        .then(res => res.text())
        .then(html => {
          document.getElementById('menu-container').innerHTML = html;
        });
    </script>
  </header>

  <section class="section">
    <!-- Tarot Card Reading Starts Here -->
    <div class="container"
      style="max-width: 700px; margin: auto; background: white; padding: 2rem; border-radius: 16px; box-shadow: 0 4px 20px rgba(0,0,0,0.1);">
      <img src="https://quizzment.com/cattarot/tarotcat.webp" alt="Tarot Cat"
        style="display: block; margin: 0 auto 1.5rem; max-width: 50%; border-radius: 12px;">

      <!-- User Input -->
      <div style="display: flex; flex-direction: column; gap: 1rem; margin-bottom: 1.5rem;">
        <input type="text" id="userName" placeholder="Enter your name"
          style="padding: 0.75rem; border: 1px solid #ccc; border-radius: 8px; font-size: 1rem;">
        <input type="number" id="userAge" placeholder="Enter your age"
          style="padding: 0.75rem; border: 1px solid #ccc; border-radius: 8px; font-size: 1rem;">
        <select id="userGender"
          style="padding: 0.75rem; border: 1px solid #ccc; border-radius: 8px; font-size: 1rem; color: #555;">
          <option value="" disabled selected>Select gender</option>
          <option value="Male">Male</option>
          <option value="Female">Female</option>
        </select>
        <button onclick="generateTarotReading()"
          style="padding: 0.75rem; background-color: #007bff; color: white; border: none; border-radius: 8px; font-size: 1rem; cursor: pointer; transition: background-color 0.3s;">
          Get Your Tarot Reading
        </button>
      </div>

      <!-- Loading Spinner -->
      <div id="loading" class="spinner"
        style="display:none; border: 6px solid #f3f3f3; border-top: 6px solid #007bff; border-radius: 50%; width: 50px; height: 50px; animation: spin 1s linear infinite; margin: 2rem auto;">
      </div>

      <!-- Result Section -->
      <div id="result" class="result"
        style="margin-top: 2rem; padding: 1.5rem; background: #f9f9f9; border-radius: 12px; display: none;">
        <h3 style="text-align:center; margin-bottom: 1rem; color: #333;">Your Tarot Card:</h3>
        <div id="tarotImage" style="text-align:center; margin-bottom: 1rem;"></div>
        <h3 style="text-align:center; margin-bottom: 1rem; color: #333;">Reading Explanation:</h3>
        <div id="readingText" style="font-size: 1rem; color: #555; line-height: 1.6;"></div>
      </div>
    </div>
    <!-- Tarot Card Reading Ends Here -->
  </section>

  <style>
    button:hover {
      background-color: #0056b3 !important;
    }

    @keyframes spin {
      0% {
        transform: rotate(0deg);
      }

      100% {
        transform: rotate(360deg);
      }
    }
  </style>


  <!-- 아이콘 요소 -->
  <button id="kakao-channel-icon" onclick="navigateToKakaoChannel()">
    <img src="https://quizzment.com/discord-icon.png" alt="Kakao Channel Icon">
  </button>

  <script>
    // 아이콘 클릭 시 채널로 이동하는 함수
    function navigateToKakaoChannel() {
      // 카카오톡 채널 URL  
      var kakaoChannelUrl = "http://discord.com";
      // 현재 창에서 카카오톡 채널로 이동
      window.open(kakaoChannelUrl, "_blank");
    }
  </script>

  <!-- 사이트 전체 끝나는 곳 (</div> 바깥에 이렇게 footer 삽입) -->
  </div> <!-- 메인 콘텐츠 끝나는 div 닫기 -->

  <footer
    style="width: 100vw; background-color: #ffffff; padding: 10px 10px; text-align: center; font-size: 13px; color: #333; box-sizing: border-box;">
    <p style="margin: 4px 0;">Advertisement Request - sc62070@gmail.com</p>
    <p style="margin: 4px 0;">&copy; Quizzment 2025. All Rights Reserved.</p>

    <button onclick="toggleBusinessInfo()"
      style="background: none; border: none; color: #808080; font-size: 13px; cursor: pointer; margin: 10px 0; text-decoration: none;">
      Company Information
    </button>

    <div id="businessInfo" style="display: none; color: #666; font-size: 12px; line-height: 1.6; margin-top: 10px;">
      <p style="margin: 4px 0;">Company Name : Quizzment | CEO : Steve Choi</p>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <script>
    function toggleBusinessInfo() {
      const info = document.getElementById('businessInfo');
      info.style.display = (info.style.display === 'none' || info.style.display === '') ? 'block' : 'none';
    }

    const apiKey = "AIzaSyAIpKmwl5q3wXHLnrFMKfhh0t8eOr7ehds";

    async function generateTarotReading() {
      const name = document.getElementById('userName').value.trim();
      const age = document.getElementById('userAge').value.trim();
      const gender = document.getElementById('userGender').value;

      if (!name || !age || !gender) {
        alert('Please fill in all fields.');
        return;
      }

      document.getElementById('result').style.display = 'none';
      document.getElementById('loading').style.display = 'block';

      const prompt = `You are a tarot card expert. Give a unique tarot card reading for a ${age}-year-old ${gender} named ${name}. Mention which tarot card represents their situation and describe the card in detail. Please include the tarot card name clearly like this: Tarot card: [Card Name].`;

      const body = { contents: [{ role: "user", parts: [{ text: prompt }] }] };

      try {
        const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(body),
        });

        const data = await response.json();
        const reading = data?.candidates?.[0]?.content?.parts?.[0]?.text || "No reading available.";

        const cardMatch = reading.match(/Tarot card:\s*([A-Za-z\s]+)/i);
        const cardName = cardMatch ? cardMatch[1].trim() : "mystical tarot card";

        const imageUrl = await generateTarotImage(cardName);

        document.getElementById('tarotImage').innerHTML = `
          <img src="${imageUrl}" alt="Tarot Card Image" style="max-width: 100%; border-radius: 12px; margin-bottom: 1rem;">
          <p style="font-size:0.9rem; color:#555;">Card: ${cardName}</p>
        `;

        document.getElementById('readingText').innerHTML = marked.parse(reading);

        document.getElementById('loading').style.display = 'none';
        document.getElementById('result').style.display = 'block';

      } catch (error) {
        document.getElementById('loading').style.display = 'none';
        document.getElementById('result').style.display = 'block';
        document.getElementById('readingText').innerHTML = '<p style="color:red;">Error fetching tarot reading. Please try again.</p>';
        console.error(error);
      }
    }

    function generateTarotImage(cardName) {
      return new Promise((resolve, reject) => {
        const seed = Date.now();
        const model = 'glid-3-xl';
        const prompt = `${cardName} tarot card, detailed mystical illustration`;
        const imageUrl = `https://image.pollinations.ai/prompt/${encodeURIComponent(prompt)}?nologo=true&model=${model}&seed=${seed}`;

        const img = new Image();
        img.onload = () => resolve(imageUrl);
        img.onerror = () => resolve('https://via.placeholder.com/600x800?text=Image+Unavailable');
        img.src = imageUrl;
      });
    }
  </script>

</body>

</html>